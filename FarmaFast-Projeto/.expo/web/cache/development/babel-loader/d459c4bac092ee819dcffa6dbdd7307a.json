{"ast":null,"code":"'use strict';\n\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nimport React, { Component } from 'react';\nimport axios from 'axios';\nvar PeopleService = function (_Service) {\n  _inherits(PeopleService, _Service);\n  var _super = _createSuper(PeopleService);\n  function PeopleService() {\n    var _this;\n    _classCallCheck(this, PeopleService);\n    _this = _super.call(this, props);\n    _this.state = {};\n    if (!(\"restful\" in props)) {\n      throw Error(\"Restful service must be provided\");\n    }\n    return _this;\n  }\n  _createClass(PeopleService, [{\n    key: \"getChildContext\",\n    value: function getChildContext() {\n      return {\n        api: this.props.restful\n      };\n    }\n\n  }, {\n    key: \"get\",\n    value:\n    function get() {\n      api.get('/people', function (req, res) {\n        var content = readFile();\n        res.send(content);\n      }).then(function (res) {\n        return showResponse(res);\n      });\n    }\n\n  }, {\n    key: \"post\",\n    value:\n    function post() {\n      alert(\"Testando o post\");\n      api.post('/people', function (req, res) {\n        var _req$body = req.body,\n          name = _req$body.name,\n          lastname = _req$body.lastname,\n          cpf = _req$body.cpf,\n          dtbirth = _req$body.dtbirth,\n          password = _req$body.password,\n          repeatpassword = _req$body.repeatpassword;\n        var currentContent = readFile();\n        var id = Math.random().toString(32).substring(2, 9);\n        currentContent.push({\n          id: id,\n          name: name,\n          lastname: lastname,\n          cpf: cpf,\n          dtbirth: dtbirth,\n          password: password,\n          repeatpassword: repeatpassword\n        });\n        writeFile(currentContent);\n        res.send({\n          id: id,\n          name: name,\n          lastname: lastname,\n          cpf: cpf,\n          dtbirth: dtbirth,\n          password: password,\n          repeatpassword: repeatpassword\n        });\n      }).then(function (res) {\n        return showResponse(res);\n      });\n    }\n  }, {\n    key: \"Update\",\n    value: function Update() {\n      api.put(('people/{id}', function (req, res) {\n        var id = req.params.id;\n        var _req$body2 = req.body,\n          name = _req$body2.name,\n          lastname = _req$body2.lastname,\n          cpf = _req$body2.cpf,\n          dtbirth = _req$body2.dtbirth,\n          password = _req$body2.password,\n          repeatpassword = _req$body2.repeatpassword;\n        var currentContent = readFile();\n        var selectedItem = currentContent.findIndex(function (item) {\n          return item.id === id;\n        });\n        var _currentContent$selec = currentContent[selectedItem],\n          cId = _currentContent$selec.id,\n          cName = _currentContent$selec.name,\n          cLastname = _currentContent$selec.lastname,\n          cCpf = _currentContent$selec.cpf,\n          cDtbirth = _currentContent$selec.dtbirth,\n          cPassword = _currentContent$selec.password,\n          cRepeatpassword = _currentContent$selec.repeatpassword;\n        var newObject = {\n          id: cId,\n          name: name ? name : cName,\n          lastname: lastname ? lastname : cLastname,\n          cpf: cpf ? cpf : cCpf,\n          dtbirth: dtbirth ? dtbirth : cDtbirth,\n          password: password ? password : cPassword,\n          repeatpassword: repeatpassword ? repeatpassword : cRepeatpassword\n        };\n        currentContent[selectedItem] = newObject;\n        writeFile(currentContent);\n        res.send(newObject);\n      })).then(function (res) {\n        return showResponse(res);\n      });\n    }\n  }, {\n    key: \"Remove\",\n    value: function Remove() {\n      api.delete(('people/:id', function (req, res) {\n        var id = req.params.id;\n        var currentContent = readFile();\n        var selectedItem = currentContent.findIndex(function (item) {\n          return item.id === id;\n        });\n        currentContent.splice(selectedItem, 1);\n        writeFile(currentContent);\n        res.send(true);\n      })).then(function (res) {\n        return showResponse(res);\n      });\n    }\n  }]);\n  return PeopleService;\n}(Service);\n;\nexport default PeopleService;","map":{"version":3,"names":["React","Component","axios","PeopleService","props","state","Error","api","restful","get","req","res","content","readFile","send","then","showResponse","alert","post","body","name","lastname","cpf","dtbirth","password","repeatpassword","currentContent","id","Math","random","toString","substring","push","writeFile","put","params","selectedItem","findIndex","item","cId","cName","cLastname","cCpf","cDtbirth","cPassword","cRepeatpassword","newObject","delete","splice","Service"],"sources":["C:/Users/vitrd/pmv-ads-2022-2-e3-proj-mov-t4-farmafast/FarmaFast-Projeto/Services/peopleService.js"],"sourcesContent":["'use strict';\r\n\r\nimport React, { Component } from 'react'\r\nimport axios from 'axios'\r\n\r\nclass PeopleService extends Service {\r\n\r\n    constructor() {\r\n        super(props);\r\n        this.state = {};\r\n\r\n        if (!(\"restful\" in props)) {\r\n            throw Error(\"Restful service must be provided\");\r\n        }\r\n    }\r\n\r\n    getChildContext() {\r\n        return {\r\n            api: this.props.restful\r\n        };\r\n    }\r\n\r\n    //TODO: should be named as ListAll\r\n    get() {\r\n\r\n        api.get('/people', (req, res) => {\r\n            const content = readFile()\r\n            res.send(content)\r\n        }).then(res => showResponse(res));\r\n    }\r\n\r\n    //TODO: should be named as Save()\r\n    post() {\r\n\r\n        alert(\"Testando o post\");\r\n        api.post('/people', (req, res) => {\r\n            const { name, lastname, cpf, dtbirth, password, repeatpassword } = req.body\r\n            const currentContent = readFile()\r\n            const id = Math.random().toString(32).substring(2, 9)\r\n            currentContent.push({ id, name, lastname, cpf, dtbirth, password, repeatpassword })\r\n            writeFile(currentContent)\r\n            res.send({ id, name, lastname, cpf, dtbirth, password, repeatpassword })\r\n        }).then(res => showResponse(res));\r\n    }\r\n\r\n\r\n    Update() {\r\n\r\n        api.put(('people/{id}', (req, res) => {\r\n            const { id } = req.params\r\n\r\n            const { name, lastname, cpf, dtbirth, password, repeatpassword } = req.body\r\n\r\n            const currentContent = readFile()\r\n            const selectedItem = currentContent.findIndex((item) => item.id === id)\r\n\r\n            const { id: cId, name: cName, lastname: cLastname, cpf: cCpf, dtbirth: cDtbirth, password: cPassword, repeatpassword: cRepeatpassword } = currentContent[selectedItem]\r\n\r\n            const newObject = {\r\n                id: cId,\r\n                name: name ? name : cName,\r\n                lastname: lastname ? lastname : cLastname,\r\n                cpf: cpf ? cpf : cCpf,\r\n                dtbirth: dtbirth ? dtbirth : cDtbirth,\r\n                password: password ? password : cPassword,\r\n                repeatpassword: repeatpassword ? repeatpassword : cRepeatpassword,\r\n            }\r\n\r\n            currentContent[selectedItem] = newObject\r\n            writeFile(currentContent)\r\n\r\n            res.send(newObject)\r\n        })).then(res => showResponse(res));\r\n    };\r\n\r\n    Remove() {\r\n        api.delete(('people/:id', (req, res) => {\r\n            const { id } = req.params\r\n            const currentContent = readFile()\r\n            const selectedItem = currentContent.findIndex((item) => item.id === id)\r\n            currentContent.splice(selectedItem, 1)\r\n            writeFile(currentContent)\r\n            res.send(true)\r\n        })).then(res => showResponse(res));\r\n    }\r\n};\r\n\r\nexport default PeopleService;"],"mappings":"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"},"metadata":{},"sourceType":"module"}
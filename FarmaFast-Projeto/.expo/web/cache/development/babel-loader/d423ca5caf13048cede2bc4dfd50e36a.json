{"ast":null,"code":"import axios from \"axios\";\nimport React from \"react\";\nvar api = axios.create({\n  baseURL: \"http://localhost:3000\"\n});\nvar readFile = function readFile() {\n  var content = fs.readFileSync('http://localhost:3000', 'utf-8');\n  return JSON.parse(content);\n};\nvar writeFile = function writeFile(content) {\n  var updateFile = JSON.stringify(content);\n  fs.writeFileSync('http://localhost:3000', updateFile, 'utf-8');\n};\nvar get = function get() {\n  api.get('companies', function (req, res) {\n    var content = readFile();\n    res.send(content);\n  }).then(function (res) {\n    return showResponse(res);\n  });\n};\nvar post = function post() {\n  api.post('companies', function (req, res) {\n    var _req$body = req.body,\n      name = _req$body.name,\n      cnpj = _req$body.cnpj,\n      password = _req$body.password,\n      repeatpassword = _req$body.repeatpassword;\n    var currentContent = readFile();\n    var id = Math.random().toString(32).substring(2, 9);\n    currentContent.push({\n      id: id,\n      name: name,\n      cnpj: cnpj,\n      password: password,\n      repeatpassword: repeatpassword\n    });\n    writeFile(currentContent);\n    res.send({\n      id: id,\n      name: name,\n      cnpj: cnpj,\n      password: password,\n      repeatpassword: repeatpassword\n    });\n  }).then(function (res) {\n    return showResponse(res);\n  });\n};\nvar put = function put() {\n  api.put(('companies/{id}', function (req, res) {\n    var id = req.params.id;\n    var _req$body2 = req.body,\n      name = _req$body2.name,\n      cnpj = _req$body2.cnpj,\n      password = _req$body2.password,\n      repeatpassword = _req$body2.repeatpassword;\n    var currentContent = readFile();\n    var selectedItem = currentContent.findIndex(function (item) {\n      return item.id === id;\n    });\n    var _currentContent$selec = currentContent[selectedItem],\n      cId = _currentContent$selec.id,\n      cName = _currentContent$selec.name,\n      cCnpj = _currentContent$selec.cnpj,\n      cPassword = _currentContent$selec.password,\n      cRepeatpassword = _currentContent$selec.repeatpassword;\n    var newObject = {\n      id: cId,\n      name: name ? name : cName,\n      cnpj: cCnpj ? cnpj : cCnpj,\n      password: password ? password : cPassword,\n      repeatpassword: repeatpassword ? repeatpassword : cRepeatpassword\n    };\n    currentContent[selectedItem] = newObject;\n    writeFile(currentContent);\n    res.send(newObject);\n  })).then(function (res) {\n    return showResponse(res);\n  });\n};\napi.delete(('companies/:id', function (req, res) {\n  var id = req.params.id;\n  var currentContent = readFile();\n  var selectedItem = currentContent.findIndex(function (item) {\n    return item.id === id;\n  });\n  currentContent.splice(selectedItem, 1);\n  writeFile(currentContent);\n  res.send(true);\n})).then(function (res) {\n  return showResponse(res);\n});","map":{"version":3,"names":["axios","React","api","create","baseURL","readFile","content","fs","readFileSync","JSON","parse","writeFile","updateFile","stringify","writeFileSync","get","req","res","send","then","showResponse","post","body","name","cnpj","password","repeatpassword","currentContent","id","Math","random","toString","substring","push","put","params","selectedItem","findIndex","item","cId","cName","cCnpj","cPassword","cRepeatpassword","newObject","delete","splice"],"sources":["C:/Users/vitrd/pmv-ads-2022-2-e3-proj-mov-t4-farmafast/FarmaFast-Projeto/Services/companiesService.js"],"sourcesContent":["import axios from \"axios\";\r\nimport React from \"react\";\r\n\r\nconst api = axios.create({\r\n    baseURL: \"http://localhost:3000\",\r\n});\r\n\r\nconst readFile = () => {\r\n    const content = fs.readFileSync('http://localhost:3000', 'utf-8')\r\n    return JSON.parse(content)\r\n}\r\n\r\nconst writeFile = (content) => {\r\n    const updateFile = JSON.stringify(content)\r\n    fs.writeFileSync('http://localhost:3000', updateFile, 'utf-8')\r\n}\r\n\r\nvar get = function () {\r\n\r\n    api.get('companies', (req, res) => {\r\n        const content = readFile()\r\n        res.send(content)\r\n    }).then(res => showResponse(res));\r\n}\r\n\r\nvar post = function () {\r\n\r\n    api.post('companies', (req, res) => {\r\n        const { name, cnpj, password, repeatpassword } = req.body\r\n        const currentContent = readFile()\r\n        const id = Math.random().toString(32).substring(2, 9)\r\n        currentContent.push({ id, name, cnpj, password, repeatpassword })\r\n        writeFile(currentContent)\r\n        res.send({ id, name, cnpj, password, repeatpassword })\r\n    }).then(res => showResponse(res));\r\n}\r\n\r\n\r\nvar put = function () {\r\n\r\n    api.put(('companies/{id}', (req, res) => {\r\n        const { id } = req.params\r\n\r\n        const { name, cnpj, password, repeatpassword } = req.body\r\n\r\n        const currentContent = readFile()\r\n        const selectedItem = currentContent.findIndex((item) => item.id === id)\r\n\r\n        const { id: cId, name: cName, cnpj: cCnpj, password: cPassword, repeatpassword: cRepeatpassword } = currentContent[selectedItem]\r\n\r\n        const newObject = {\r\n            id: cId,\r\n            name: name ? name : cName,\r\n            cnpj: cCnpj ? cnpj : cCnpj,\r\n            password: password ? password : cPassword,\r\n            repeatpassword: repeatpassword ? repeatpassword : cRepeatpassword,\r\n        }\r\n\r\n        currentContent[selectedItem] = newObject\r\n        writeFile(currentContent)\r\n\r\n        res.send(newObject)\r\n    })).then(res => showResponse(res));\r\n}\r\n\r\napi.delete(('companies/:id', (req, res) => {\r\n    const { id } = req.params\r\n    const currentContent = readFile()\r\n    const selectedItem = currentContent.findIndex((item) => item.id === id)\r\n    currentContent.splice(selectedItem, 1)\r\n    writeFile(currentContent)\r\n    res.send(true)\r\n})).then(res => showResponse(res));\r\n\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}
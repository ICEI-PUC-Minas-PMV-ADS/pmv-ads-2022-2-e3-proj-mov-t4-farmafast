{"ast":null,"code":"import axios from \"axios\";\nvar api = axios.create({\n  baseURL: \"http://localhost:3000\"\n});\nvar readFile = function readFile() {\n  var content = fs.readFileSync('http://localhost:3000', 'utf-8');\n  return JSON.parse(content);\n};\nvar writeFile = function writeFile(content) {\n  var updateFile = JSON.stringify(content);\n  fs.writeFileSync('http://localhost:3000', updateFile, 'utf-8');\n};\nfunction get() {\n  api.get('/people', function (req, res) {\n    var content = readFile();\n    res.send(content);\n  }).then(function (res) {\n    return showResponse(res);\n  });\n}\nfunction post() {\n  alert(\"Testando o post\");\n  api.post('/people', function (req, res) {\n    var _req$body = req.body,\n      name = _req$body.name,\n      lastname = _req$body.lastname,\n      cpf = _req$body.cpf,\n      dtbirth = _req$body.dtbirth,\n      password = _req$body.password,\n      repeatpassword = _req$body.repeatpassword;\n    var currentContent = readFile();\n    var id = Math.random().toString(32).substring(2, 9);\n    currentContent.push({\n      id: id,\n      name: name,\n      lastname: lastname,\n      cpf: cpf,\n      dtbirth: dtbirth,\n      password: password,\n      repeatpassword: repeatpassword\n    });\n    writeFile(currentContent);\n    res.send({\n      id: id,\n      name: name,\n      lastname: lastname,\n      cpf: cpf,\n      dtbirth: dtbirth,\n      password: password,\n      repeatpassword: repeatpassword\n    });\n  }).then(function (res) {\n    return showResponse(res);\n  });\n}\nfunction put() {\n  api.put(('people/{id}', function (req, res) {\n    var id = req.params.id;\n    var _req$body2 = req.body,\n      name = _req$body2.name,\n      lastname = _req$body2.lastname,\n      cpf = _req$body2.cpf,\n      dtbirth = _req$body2.dtbirth,\n      password = _req$body2.password,\n      repeatpassword = _req$body2.repeatpassword;\n    var currentContent = readFile();\n    var selectedItem = currentContent.findIndex(function (item) {\n      return item.id === id;\n    });\n    var _currentContent$selec = currentContent[selectedItem],\n      cId = _currentContent$selec.id,\n      cName = _currentContent$selec.name,\n      cLastname = _currentContent$selec.lastname,\n      cCpf = _currentContent$selec.cpf,\n      cDtbirth = _currentContent$selec.dtbirth,\n      cPassword = _currentContent$selec.password,\n      cRepeatpassword = _currentContent$selec.repeatpassword;\n    var newObject = {\n      id: cId,\n      name: name ? name : cName,\n      lastname: lastname ? lastname : cLastname,\n      cpf: cpf ? cpf : cCpf,\n      dtbirth: dtbirth ? dtbirth : cDtbirth,\n      password: password ? password : cPassword,\n      repeatpassword: repeatpassword ? repeatpassword : cRepeatpassword\n    };\n    currentContent[selectedItem] = newObject;\n    writeFile(currentContent);\n    res.send(newObject);\n  })).then(function (res) {\n    return showResponse(res);\n  });\n}\napi.delete(('people/:id', function (req, res) {\n  var id = req.params.id;\n  var currentContent = readFile();\n  var selectedItem = currentContent.findIndex(function (item) {\n    return item.id === id;\n  });\n  currentContent.splice(selectedItem, 1);\n  writeFile(currentContent);\n  res.send(true);\n})).then(function (res) {\n  return showResponse(res);\n});","map":{"version":3,"names":["axios","api","create","baseURL","readFile","content","fs","readFileSync","JSON","parse","writeFile","updateFile","stringify","writeFileSync","get","req","res","send","then","showResponse","post","alert","body","name","lastname","cpf","dtbirth","password","repeatpassword","currentContent","id","Math","random","toString","substring","push","put","params","selectedItem","findIndex","item","cId","cName","cLastname","cCpf","cDtbirth","cPassword","cRepeatpassword","newObject","delete","splice"],"sources":["C:/Users/vitrd/pmv-ads-2022-2-e3-proj-mov-t4-farmafast/FarmaFast-Projeto/Services/peopleService.js"],"sourcesContent":["import axios from \"axios\";\r\n\r\nconst api = axios.create({\r\n    baseURL: \"http://localhost:3000\",\r\n});\r\n\r\nconst readFile = () => {\r\n    const content = fs.readFileSync('http://localhost:3000', 'utf-8')\r\n    return JSON.parse(content)\r\n}\r\n\r\nconst writeFile = (content) => {\r\n    const updateFile = JSON.stringify(content)\r\n    fs.writeFileSync('http://localhost:3000', updateFile, 'utf-8')\r\n}\r\n\r\nfunction get() {\r\n\r\n    api.get('/people', (req, res) => {\r\n        const content = readFile()\r\n        res.send(content)\r\n    }).then(res => showResponse(res));\r\n}\r\n\r\nfunction post() {\r\n\r\n    alert(\"Testando o post\");\r\n    api.post('/people', (req, res) => {\r\n        const { name, lastname, cpf, dtbirth, password, repeatpassword } = req.body\r\n        const currentContent = readFile()\r\n        const id = Math.random().toString(32).substring(2, 9)\r\n        currentContent.push({ id, name, lastname, cpf, dtbirth, password, repeatpassword })\r\n        writeFile(currentContent)\r\n        res.send({ id, name, lastname, cpf, dtbirth, password, repeatpassword })\r\n    }).then(res => showResponse(res));\r\n}\r\n\r\n\r\nfunction put() {\r\n\r\n    api.put(('people/{id}', (req, res) => {\r\n        const { id } = req.params\r\n\r\n        const { name, lastname, cpf, dtbirth, password, repeatpassword } = req.body\r\n\r\n        const currentContent = readFile()\r\n        const selectedItem = currentContent.findIndex((item) => item.id === id)\r\n\r\n        const { id: cId, name: cName, lastname: cLastname, cpf: cCpf, dtbirth: cDtbirth, password: cPassword, repeatpassword: cRepeatpassword } = currentContent[selectedItem]\r\n\r\n        const newObject = {\r\n            id: cId,\r\n            name: name ? name : cName,\r\n            lastname: lastname ? lastname : cLastname,\r\n            cpf: cpf ? cpf : cCpf,\r\n            dtbirth: dtbirth ? dtbirth : cDtbirth,\r\n            password: password ? password : cPassword,\r\n            repeatpassword: repeatpassword ? repeatpassword : cRepeatpassword,\r\n        }\r\n\r\n        currentContent[selectedItem] = newObject\r\n        writeFile(currentContent)\r\n\r\n        res.send(newObject)\r\n    })).then(res => showResponse(res));\r\n}\r\n\r\napi.delete(('people/:id', (req, res) => {\r\n    const { id } = req.params\r\n    const currentContent = readFile()\r\n    const selectedItem = currentContent.findIndex((item) => item.id === id)\r\n    currentContent.splice(selectedItem, 1)\r\n    writeFile(currentContent)\r\n    res.send(true)\r\n})).then(res => showResponse(res));\r\n\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}
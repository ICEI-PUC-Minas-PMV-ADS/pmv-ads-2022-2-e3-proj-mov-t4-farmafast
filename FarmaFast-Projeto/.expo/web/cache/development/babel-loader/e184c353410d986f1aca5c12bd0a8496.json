{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport React from 'react';\nimport axios from 'axios';\nvar api = axios.create({\n  baseURL: \"http://localhost:3000\"\n});\nvar readFile = function readFile() {\n  var content = fs.readFileSync('http://localhost:3000', 'utf-8');\n  return JSON.parse(content);\n};\nvar writeFile = function writeFile(content) {\n  var updateFile = JSON.stringify(content);\n  fs.writeFileSync('http://localhost:3000', updateFile, 'utf-8');\n};\nvar PeopleService = function () {\n  function PeopleService() {\n    _classCallCheck(this, PeopleService);\n  }\n  _createClass(PeopleService, [{\n    key: \"return\",\n    value: function _return() {\n      function get() {\n        api.get('/people', function (req, res) {\n          var content = readFile();\n          res.send(content);\n        }).then(function (res) {\n          return showResponse(res);\n        });\n      }\n\n      function post() {\n        alert(\"Testando o post\");\n        api.post('/people', function (req, res) {\n          var _req$body = req.body,\n            name = _req$body.name,\n            lastname = _req$body.lastname,\n            cpf = _req$body.cpf,\n            dtbirth = _req$body.dtbirth,\n            password = _req$body.password,\n            repeatpassword = _req$body.repeatpassword;\n          var currentContent = readFile();\n          var id = Math.random().toString(32).substring(2, 9);\n          currentContent.push({\n            id: id,\n            name: name,\n            lastname: lastname,\n            cpf: cpf,\n            dtbirth: dtbirth,\n            password: password,\n            repeatpassword: repeatpassword\n          });\n          writeFile(currentContent);\n          res.send({\n            id: id,\n            name: name,\n            lastname: lastname,\n            cpf: cpf,\n            dtbirth: dtbirth,\n            password: password,\n            repeatpassword: repeatpassword\n          });\n        }).then(function (res) {\n          return showResponse(res);\n        });\n      }\n      function Update() {\n        api.put(('people/{id}', function (req, res) {\n          var id = req.params.id;\n          var _req$body2 = req.body,\n            name = _req$body2.name,\n            lastname = _req$body2.lastname,\n            cpf = _req$body2.cpf,\n            dtbirth = _req$body2.dtbirth,\n            password = _req$body2.password,\n            repeatpassword = _req$body2.repeatpassword;\n          var currentContent = readFile();\n          var selectedItem = currentContent.findIndex(function (item) {\n            return item.id === id;\n          });\n          var _currentContent$selec = currentContent[selectedItem],\n            cId = _currentContent$selec.id,\n            cName = _currentContent$selec.name,\n            cLastname = _currentContent$selec.lastname,\n            cCpf = _currentContent$selec.cpf,\n            cDtbirth = _currentContent$selec.dtbirth,\n            cPassword = _currentContent$selec.password,\n            cRepeatpassword = _currentContent$selec.repeatpassword;\n          var newObject = {\n            id: cId,\n            name: name ? name : cName,\n            lastname: lastname ? lastname : cLastname,\n            cpf: cpf ? cpf : cCpf,\n            dtbirth: dtbirth ? dtbirth : cDtbirth,\n            password: password ? password : cPassword,\n            repeatpassword: repeatpassword ? repeatpassword : cRepeatpassword\n          };\n          currentContent[selectedItem] = newObject;\n          writeFile(currentContent);\n          res.send(newObject);\n        })).then(function (res) {\n          return showResponse(res);\n        });\n      }\n      ;\n      function Remove() {\n        api.delete(('people/:id', function (req, res) {\n          var id = req.params.id;\n          var currentContent = readFile();\n          var selectedItem = currentContent.findIndex(function (item) {\n            return item.id === id;\n          });\n          currentContent.splice(selectedItem, 1);\n          writeFile(currentContent);\n          res.send(true);\n        })).then(function (res) {\n          return showResponse(res);\n        });\n      }\n    }\n  }]);\n  return PeopleService;\n}();\nexport { PeopleService as default };","map":{"version":3,"names":["React","axios","api","create","baseURL","readFile","content","fs","readFileSync","JSON","parse","writeFile","updateFile","stringify","writeFileSync","PeopleService","get","req","res","send","then","showResponse","post","alert","body","name","lastname","cpf","dtbirth","password","repeatpassword","currentContent","id","Math","random","toString","substring","push","Update","put","params","selectedItem","findIndex","item","cId","cName","cLastname","cCpf","cDtbirth","cPassword","cRepeatpassword","newObject","Remove","delete","splice"],"sources":["C:/Users/vitrd/pmv-ads-2022-2-e3-proj-mov-t4-farmafast/FarmaFast-Projeto/Services/peopleService.js"],"sourcesContent":["import React from 'react'\r\nimport axios from 'axios'\r\n\r\nconst api = axios.create({\r\n    baseURL: \"http://localhost:3000\",\r\n});\r\n\r\nconst readFile = () => {\r\n    const content = fs.readFileSync('http://localhost:3000', 'utf-8')\r\n    return JSON.parse(content)\r\n}\r\n\r\nconst writeFile = (content) => {\r\n    const updateFile = JSON.stringify(content)\r\n    fs.writeFileSync('http://localhost:3000', updateFile, 'utf-8')\r\n}\r\n\r\nexport default class PeopleService {\r\n\r\n    constructor() {\r\n    }\r\n\r\n    return() {\r\n\r\n        function get() {\r\n\r\n            api.get('/people', (req, res) => {\r\n                const content = readFile()\r\n                res.send(content)\r\n            }).then(res => showResponse(res));\r\n        }\r\n\r\n        //should be named as Save()\r\n        function post() {\r\n\r\n            alert(\"Testando o post\");\r\n            api.post('/people', (req, res) => {\r\n                const { name, lastname, cpf, dtbirth, password, repeatpassword } = req.body\r\n                const currentContent = readFile()\r\n                const id = Math.random().toString(32).substring(2, 9)\r\n                currentContent.push({ id, name, lastname, cpf, dtbirth, password, repeatpassword })\r\n                writeFile(currentContent)\r\n                res.send({ id, name, lastname, cpf, dtbirth, password, repeatpassword })\r\n            }).then(res => showResponse(res));\r\n        }\r\n\r\n\r\n        function Update() {\r\n\r\n            api.put(('people/{id}', (req, res) => {\r\n                const { id } = req.params\r\n\r\n                const { name, lastname, cpf, dtbirth, password, repeatpassword } = req.body\r\n\r\n                const currentContent = readFile()\r\n                const selectedItem = currentContent.findIndex((item) => item.id === id)\r\n\r\n                const { id: cId, name: cName, lastname: cLastname, cpf: cCpf, dtbirth: cDtbirth, password: cPassword, repeatpassword: cRepeatpassword } = currentContent[selectedItem]\r\n\r\n                const newObject = {\r\n                    id: cId,\r\n                    name: name ? name : cName,\r\n                    lastname: lastname ? lastname : cLastname,\r\n                    cpf: cpf ? cpf : cCpf,\r\n                    dtbirth: dtbirth ? dtbirth : cDtbirth,\r\n                    password: password ? password : cPassword,\r\n                    repeatpassword: repeatpassword ? repeatpassword : cRepeatpassword,\r\n                }\r\n\r\n                currentContent[selectedItem] = newObject\r\n                writeFile(currentContent)\r\n\r\n                res.send(newObject)\r\n            })).then(res => showResponse(res));\r\n        };\r\n\r\n        function Remove() {\r\n            api.delete(('people/:id', (req, res) => {\r\n                const { id } = req.params\r\n                const currentContent = readFile()\r\n                const selectedItem = currentContent.findIndex((item) => item.id === id)\r\n                currentContent.splice(selectedItem, 1)\r\n                writeFile(currentContent)\r\n                res.send(true)\r\n            })).then(res => showResponse(res));\r\n        }\r\n    }\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport axios from \"axios\";\nimport React from \"react\";\nvar api = axios.create({\n  baseURL: \"http://localhost:3000\"\n});\nvar readFile = function readFile() {\n  var content = fs.readFileSync('http://localhost:3000', 'utf-8');\n  return JSON.parse(content);\n};\nvar writeFile = function writeFile(content) {\n  var updateFile = JSON.stringify(content);\n  fs.writeFileSync('http://localhost:3000', updateFile, 'utf-8');\n};\nvar CompaniesService = function () {\n  function CompaniesService() {\n    _classCallCheck(this, CompaniesService);\n  }\n  _createClass(CompaniesService, [{\n    key: \"get\",\n    value: function get() {\n      api.get('companies', function (req, res) {\n        var content = readFile();\n        res.send(content);\n      }).then(function (res) {\n        return showResponse(res);\n      });\n    }\n  }, {\n    key: \"post\",\n    value: function post() {\n      api.post('companies', function (req, res) {\n        var _req$body = req.body,\n          name = _req$body.name,\n          cnpj = _req$body.cnpj,\n          password = _req$body.password,\n          repeatpassword = _req$body.repeatpassword;\n        var currentContent = readFile();\n        var id = Math.random().toString(32).substring(2, 9);\n        currentContent.push({\n          id: id,\n          name: name,\n          cnpj: cnpj,\n          password: password,\n          repeatpassword: repeatpassword\n        });\n        writeFile(currentContent);\n        res.send({\n          id: id,\n          name: name,\n          cnpj: cnpj,\n          password: password,\n          repeatpassword: repeatpassword\n        });\n      }).then(function (res) {\n        return showResponse(res);\n      });\n    }\n  }, {\n    key: \"put\",\n    value: function put() {\n      api.put(('companies/{id}', function (req, res) {\n        var id = req.params.id;\n        var _req$body2 = req.body,\n          name = _req$body2.name,\n          cnpj = _req$body2.cnpj,\n          password = _req$body2.password,\n          repeatpassword = _req$body2.repeatpassword;\n        var currentContent = readFile();\n        var selectedItem = currentContent.findIndex(function (item) {\n          return item.id === id;\n        });\n        var _currentContent$selec = currentContent[selectedItem],\n          cId = _currentContent$selec.id,\n          cName = _currentContent$selec.name,\n          cCnpj = _currentContent$selec.cnpj,\n          cPassword = _currentContent$selec.password,\n          cRepeatpassword = _currentContent$selec.repeatpassword;\n        var newObject = {\n          id: cId,\n          name: name ? name : cName,\n          cnpj: cCnpj ? cnpj : cCnpj,\n          password: password ? password : cPassword,\n          repeatpassword: repeatpassword ? repeatpassword : cRepeatpassword\n        };\n        currentContent[selectedItem] = newObject;\n        writeFile(currentContent);\n        res.send(newObject);\n      })).then(function (res) {\n        return showResponse(res);\n      });\n    }\n  }, {\n    key: \"delete\",\n    value: function _delete() {\n      api.delete(('companies/:id', function (req, res) {\n        var id = req.params.id;\n        var currentContent = readFile();\n        var selectedItem = currentContent.findIndex(function (item) {\n          return item.id === id;\n        });\n        currentContent.splice(selectedItem, 1);\n        writeFile(currentContent);\n        res.send(true);\n      })).then(function (res) {\n        return showResponse(res);\n      });\n    }\n  }]);\n  return CompaniesService;\n}();","map":{"version":3,"names":["axios","React","api","create","baseURL","readFile","content","fs","readFileSync","JSON","parse","writeFile","updateFile","stringify","writeFileSync","CompaniesService","get","req","res","send","then","showResponse","post","body","name","cnpj","password","repeatpassword","currentContent","id","Math","random","toString","substring","push","put","params","selectedItem","findIndex","item","cId","cName","cCnpj","cPassword","cRepeatpassword","newObject","delete","splice"],"sources":["C:/Users/vitrd/pmv-ads-2022-2-e3-proj-mov-t4-farmafast/FarmaFast-Projeto/Services/companiesService.js"],"sourcesContent":["import axios from \"axios\";\r\nimport React from \"react\";\r\n\r\nconst api = axios.create({\r\n    baseURL: \"http://localhost:3000\",\r\n});\r\n\r\nconst readFile = () => {\r\n    const content = fs.readFileSync('http://localhost:3000', 'utf-8')\r\n    return JSON.parse(content)\r\n}\r\n\r\nconst writeFile = (content) => {\r\n    const updateFile = JSON.stringify(content)\r\n    fs.writeFileSync('http://localhost:3000', updateFile, 'utf-8')\r\n}\r\n\r\nclass CompaniesService {\r\n\r\n    get() {\r\n\r\n        api.get('companies', (req, res) => {\r\n            const content = readFile()\r\n            res.send(content)\r\n        }).then(res => showResponse(res));\r\n    }\r\n\r\n    post() {\r\n\r\n        api.post('companies', (req, res) => {\r\n            const { name, cnpj, password, repeatpassword } = req.body\r\n            const currentContent = readFile()\r\n            const id = Math.random().toString(32).substring(2, 9)\r\n            currentContent.push({ id, name, cnpj, password, repeatpassword })\r\n            writeFile(currentContent)\r\n            res.send({ id, name, cnpj, password, repeatpassword })\r\n        }).then(res => showResponse(res));\r\n    }\r\n\r\n\r\n    put() {\r\n        api.put(('companies/{id}', (req, res) => {\r\n            const { id } = req.params\r\n\r\n            const { name, cnpj, password, repeatpassword } = req.body\r\n\r\n            const currentContent = readFile()\r\n            const selectedItem = currentContent.findIndex((item) => item.id === id)\r\n\r\n            const { id: cId, name: cName, cnpj: cCnpj, password: cPassword, repeatpassword: cRepeatpassword } = currentContent[selectedItem]\r\n\r\n            const newObject = {\r\n                id: cId,\r\n                name: name ? name : cName,\r\n                cnpj: cCnpj ? cnpj : cCnpj,\r\n                password: password ? password : cPassword,\r\n                repeatpassword: repeatpassword ? repeatpassword : cRepeatpassword,\r\n            }\r\n\r\n            currentContent[selectedItem] = newObject\r\n            writeFile(currentContent)\r\n\r\n            res.send(newObject)\r\n        })).then(res => showResponse(res));\r\n    }\r\n\r\n    delete() {\r\n        api.delete(('companies/:id', (req, res) => {\r\n            const { id } = req.params\r\n            const currentContent = readFile()\r\n            const selectedItem = currentContent.findIndex((item) => item.id === id)\r\n            currentContent.splice(selectedItem, 1)\r\n            writeFile(currentContent)\r\n            res.send(true)\r\n        })).then(res => showResponse(res));\r\n\r\n    };\r\n\r\n}\r\n\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}
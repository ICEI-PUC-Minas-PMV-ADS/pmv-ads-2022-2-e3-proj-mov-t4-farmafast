{"ast":null,"code":"import React from 'react';\nimport axios from 'axios';\nvar api = axios.create({\n  baseURL: \"http://localhost:3000\"\n});\nvar readFile = function readFile() {\n  var content = fs.readFileSync('http://localhost:3000', 'utf-8');\n  return JSON.parse(content);\n};\nvar writeFile = function writeFile(content) {\n  var updateFile = JSON.stringify(content);\n  fs.writeFileSync('http://localhost:3000', updateFile, 'utf-8');\n};\nvar PeopleService = {\n  get: function get() {\n    api.get('/people', function (req, res) {\n      var content = readFile();\n      res.send(content);\n    }).then(function (res) {\n      return showResponse(res);\n    });\n  },\n  post: function post() {\n    alert(\"Testando o post\");\n    api.post('/people', function (req, res) {\n      var _req$body = req.body,\n        name = _req$body.name,\n        lastname = _req$body.lastname,\n        cpf = _req$body.cpf,\n        dtbirth = _req$body.dtbirth,\n        password = _req$body.password,\n        repeatpassword = _req$body.repeatpassword;\n      var currentContent = readFile();\n      var id = Math.random().toString(32).substring(2, 9);\n      currentContent.push({\n        id: id,\n        name: name,\n        lastname: lastname,\n        cpf: cpf,\n        dtbirth: dtbirth,\n        password: password,\n        repeatpassword: repeatpassword\n      });\n      writeFile(currentContent);\n      res.send({\n        id: id,\n        name: name,\n        lastname: lastname,\n        cpf: cpf,\n        dtbirth: dtbirth,\n        password: password,\n        repeatpassword: repeatpassword\n      });\n    }).then(function (res) {\n      return showResponse(res);\n    });\n  },\n  put: function put() {\n    api.put(('people/{id}', function (req, res) {\n      var id = req.params.id;\n      var _req$body2 = req.body,\n        name = _req$body2.name,\n        lastname = _req$body2.lastname,\n        cpf = _req$body2.cpf,\n        dtbirth = _req$body2.dtbirth,\n        password = _req$body2.password,\n        repeatpassword = _req$body2.repeatpassword;\n      var currentContent = readFile();\n      var selectedItem = currentContent.findIndex(function (item) {\n        return item.id === id;\n      });\n      var _currentContent$selec = currentContent[selectedItem],\n        cId = _currentContent$selec.id,\n        cName = _currentContent$selec.name,\n        cLastname = _currentContent$selec.lastname,\n        cCpf = _currentContent$selec.cpf,\n        cDtbirth = _currentContent$selec.dtbirth,\n        cPassword = _currentContent$selec.password,\n        cRepeatpassword = _currentContent$selec.repeatpassword;\n      var newObject = {\n        id: cId,\n        name: name ? name : cName,\n        lastname: lastname ? lastname : cLastname,\n        cpf: cpf ? cpf : cCpf,\n        dtbirth: dtbirth ? dtbirth : cDtbirth,\n        password: password ? password : cPassword,\n        repeatpassword: repeatpassword ? repeatpassword : cRepeatpassword\n      };\n      currentContent[selectedItem] = newObject;\n      writeFile(currentContent);\n      res.send(newObject);\n    })).then(function (res) {\n      return showResponse(res);\n    });\n  },\n  delete: function _delete() {\n    api.delete(('people/:id', function (req, res) {\n      var id = req.params.id;\n      var currentContent = readFile();\n      var selectedItem = currentContent.findIndex(function (item) {\n        return item.id === id;\n      });\n      currentContent.splice(selectedItem, 1);\n      writeFile(currentContent);\n      res.send(true);\n    })).then(function (res) {\n      return showResponse(res);\n    });\n  }\n};\nexport default PeopleService;","map":{"version":3,"names":["React","axios","api","create","baseURL","readFile","content","fs","readFileSync","JSON","parse","writeFile","updateFile","stringify","writeFileSync","PeopleService","get","req","res","send","then","showResponse","post","alert","body","name","lastname","cpf","dtbirth","password","repeatpassword","currentContent","id","Math","random","toString","substring","push","put","params","selectedItem","findIndex","item","cId","cName","cLastname","cCpf","cDtbirth","cPassword","cRepeatpassword","newObject","delete","splice"],"sources":["C:/Users/vitrd/pmv-ads-2022-2-e3-proj-mov-t4-farmafast/FarmaFast-Projeto/Services/peopleService.js"],"sourcesContent":["import React from 'react'\r\nimport axios from 'axios'\r\n\r\nconst api = axios.create({\r\n    baseURL: \"http://localhost:3000\",\r\n});\r\n\r\nconst readFile = () => {\r\n    const content = fs.readFileSync('http://localhost:3000', 'utf-8')\r\n    return JSON.parse(content)\r\n}\r\n\r\nconst writeFile = (content) => {\r\n    const updateFile = JSON.stringify(content)\r\n    fs.writeFileSync('http://localhost:3000', updateFile, 'utf-8')\r\n}\r\n\r\nconst PeopleService = {\r\n\r\n    get: function () {\r\n\r\n        api.get('/people', (req, res) => {\r\n            const content = readFile()\r\n            res.send(content)\r\n        }).then(res => showResponse(res));\r\n    },\r\n\r\n    post: function () {\r\n\r\n        alert(\"Testando o post\");\r\n        api.post('/people', (req, res) => {\r\n            const { name, lastname, cpf, dtbirth, password, repeatpassword } = req.body\r\n            const currentContent = readFile()\r\n            const id = Math.random().toString(32).substring(2, 9)\r\n            currentContent.push({ id, name, lastname, cpf, dtbirth, password, repeatpassword })\r\n            writeFile(currentContent)\r\n            res.send({ id, name, lastname, cpf, dtbirth, password, repeatpassword })\r\n        }).then(res => showResponse(res));\r\n    },\r\n    put: function () {\r\n        api.put(('people/{id}', (req, res) => {\r\n            const { id } = req.params\r\n\r\n            const { name, lastname, cpf, dtbirth, password, repeatpassword } = req.body\r\n\r\n            const currentContent = readFile()\r\n            const selectedItem = currentContent.findIndex((item) => item.id === id)\r\n\r\n            const { id: cId, name: cName, lastname: cLastname, cpf: cCpf, dtbirth: cDtbirth, password: cPassword, repeatpassword: cRepeatpassword } = currentContent[selectedItem]\r\n\r\n            const newObject = {\r\n                id: cId,\r\n                name: name ? name : cName,\r\n                lastname: lastname ? lastname : cLastname,\r\n                cpf: cpf ? cpf : cCpf,\r\n                dtbirth: dtbirth ? dtbirth : cDtbirth,\r\n                password: password ? password : cPassword,\r\n                repeatpassword: repeatpassword ? repeatpassword : cRepeatpassword,\r\n            }\r\n\r\n            currentContent[selectedItem] = newObject\r\n            writeFile(currentContent)\r\n\r\n            res.send(newObject)\r\n        })).then(res => showResponse(res));\r\n    },\r\n\r\n    delete: function () {\r\n        api.delete(('people/:id', (req, res) => {\r\n            const { id } = req.params\r\n            const currentContent = readFile()\r\n            const selectedItem = currentContent.findIndex((item) => item.id === id)\r\n            currentContent.splice(selectedItem, 1)\r\n            writeFile(currentContent)\r\n            res.send(true)\r\n        })).then(res => showResponse(res));\r\n    }\r\n}\r\n\r\nexport default PeopleService;"],"mappings":"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"},"metadata":{},"sourceType":"module"}